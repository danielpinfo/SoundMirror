<analysis>**original_problem_statement:**
The user's goal is to build **SoundMirror**, a native offline-first articulation visualization system for language learners. The core of the application is a clinical-grade animation engine that displays hyper-realistic mouth movements for phonemes, words, and sentences, driven by high-quality sprite animations. The ultimate goal is a cross-platform mobile (React Native) and desktop (Tauri) application, with the current focus being a fully functional React web preview.

**PRODUCT REQUIREMENTS (PRD):**
- **Mission:** Convert a web app concept into a fully native cross-platform application.
- **Core Principles:**
    - The system is a phoneme-driven anatomical teaching tool.
    - Visuals are based on a limited set of mouth shapes (visemes) that map to all human sounds.
    - The animation engine must be movie quality, seamless, and handle complex phonetic mappings.
    - Animation must support digraphs/trigraphs, natural timing, and pauses for punctuation.
- **Asset Management:** All visual and audio assets are provided by the user from their GitHub and S3 repositories.
- **Technical Strategy:** Pre-cache all animation assets for smooth, offline playback.

**User's preferred language**: English

**what currently exists?**
A React web application in . The application logic is primarily in a large  file, but the core animation and phonetic logic has been refactored into two new files:
- : A component that handles the rendering and -based timing of the sprite animations.
- : A sophisticated phonetic engine that converts English text into a sequence of visemes (mouth shapes) based on pattern matching and a custom dictionary, mapping all sounds to a 20-frame animation system.

**The application is currently in a broken state.** The master sprite sheets (, ) were deleted at the user's request, and the provided GitHub link for the new assets was invalid.

**Last working item**:
- **Last item agent was working:** The agent was tasked with replacing the application's core visual assets. Following user instructions, the agent deleted the existing sprite sheets. However, the GitHub URL provided by the user () was incorrect (404 Not Found), leaving the application without its essential animation sprites. The agent was attempting to locate the correct repository on the user's GitHub profile () when the session ended.
- **Status:** BLOCKED
- **Agent Testing Done:** N
- **Which testing method agent to use?** Frontend testing agent (once the sprites are restored).
- **User Testing Done:** N

**All Pending/In progress Issue list**:
- **Issue 1: (P0) Restore Missing Sprite Sheets.**
  - **Description:** The application is non-functional because the core animation sprite sheets (, ) are missing. They were deleted based on user direction, but the path to the new files was incorrect. This is a complete blocker.
  - **Attempted fixes:** The agent tried to access , which failed. The agent then correctly identified the user's main profile page.
  - **Next debug checklist:**
      1. Search the user's GitHub profile () for a repository named  or one containing sprites or head.
      2. Once the repository is found, locate the folders containing the new front and side view PNG images.
      3. Download all individual PNG frames to a temporary local directory.
      4. Run the sprite sheet generation script to create new  and  files and place them in .
      5. Once the files are in place, take a screenshot of the  page to confirm the app loads and renders the heads.
  - **Why fix this issue and what will be achieved with the fix?** The entire application is unusable without its visual assets. Fixing this will restore basic functionality and unblock all other development.
  - **Status:** BLOCKED
  - **Is recurring issue?** Y (Finding user-provided assets on GitHub has been a recurring challenge).
  - **Should Test frontend/backend/both after fix?** Frontend
  - **Blocked on other issue:** None. This is the primary blocker.

- **Issue 2: (P2) Fix Non-English Language Animations.**
  - **Description:** The user noted that animations for Chinese and Japanese are not working correctly; they default to showing the 'a' sound without proper animation. This should be addressed after the English version is stable.
  - **Next debug checklist:**
      1. After restoring the sprites, switch the language to Japanese or Chinese in the UI.
      2. Navigate to the Letter Practice page and observe the animation behavior when clicking different characters.
      3. Investigate  and the  constant in  to debug the language-specific logic.
  - **Why fix this issue and what will be achieved with the fix?** Fulfills the multi-language requirement of the product.
  - **Status:** NOT STARTED
  - **Is recurring issue?** N
  - **Should Test frontend/backend/both after fix?** Frontend
  - **Blocked on other issue:** Issue 1: Restore Missing Sprite Sheets.

**In progress Task List**:
None.

**Upcoming and Future Tasks**
- **Upcoming Tasks:**
  - **P1:** Implement Real Camera/Microphone Recording.
  - **P1:** Implement Animation Scrubbing via a slider.
- **Future Tasks:**
  - **P2:** Refactor  into smaller, manageable page components (, etc.).
  - **P2:** Implement ML-based Visual Scoring for user feedback.
  - **P2:** Build and package the Tauri desktop application.
  - **P3:** Develop the React Native mobile application.
  - **P3:** Implement offline storage using SQLite.

**Completed work in this session**
- **Multiple Animation Engine Overhauls:** The agent performed several major rewrites of the animation and phonetic logic, progressively refining it based on detailed user feedback.
- **Phonetic Engine Creation:** Created a custom phonetic engine in  that translates English text into a sequence of visemes (mouth shapes) for the animation, using pattern-matching and a dictionary. This replaced a more complex, unsuitable ARPABET-based approach.
- **Animation Bug Fixes:** Resolved numerous critical animation issues, including jittery playback, white/flashing frames, incorrect phoneme display, and non-working animations on the Letter Practice page.
- **Advanced Animation Features:** Implemented smooth frame blending (using CSS opacity), pauses for punctuation, and correct consonant-vowel sequencing (e.g., B animates as a b shape followed by an ah shape).
- **Component Refactoring:** Moved the core animation logic out of the monolithic  into  and .

**Earlier issues found/mentioned but not fixed**
- Covered in the All Pending/In progress Issue list.

**Known issue recurrence from previous fork**
- **Asset Sourcing:** The agent has a recurring pattern of struggling to locate user-provided assets on GitHub, which was the direct cause of the current BLOCKED state.

**Code Architecture**


**Key Technical Concepts**
- **Frontend:** React, Tailwind CSS, Vite
- **Animation:** High-performance CSS sprite animation () driven by  with CSS  transitions for smooth frame blending.
- **Phonetics:** A custom-built phonetic engine mapping English text patterns to a 20-frame viseme library.

**key DB schema**
- **(Planned):** A local SQLite database for user progress and settings.

**changes in tech stack**
- The  npm package was installed and subsequently removed in favor of a simpler, custom-built phonetic engine.

**All files of reference**
- **Modified/Created:**
    - : The main application file, which still contains page-level components.
    - : The refactored component for rendering animations.
    - : The refactored file containing all phonetic logic.
- **Critical (and missing):**
    - Master sprite sheets that should exist at .

**Areas that need refactoring**:
-  is still a monolithic file containing multiple pages, routing, and global state. It urgently needs to be broken down into a proper component structure (e.g., , , ).

**key api endpoints**
N/A. The application is designed to be offline-first.

**Critical Info for New Agent**
- **YOU ARE BLOCKED.** The application is broken because its core sprite sheet assets have been deleted. Your first and only priority is to locate the correct sprite files on the user's GitHub profile (), regenerate the master sprite sheets ( and ), and restore the application to a runnable state. Do not attempt any other task until this is complete.
- The user is highly specific and the animation/phonetic engine has been through many iterations. The current, correct approach is a simple system that maps all sounds to a fixed library of 20 mouth shapes (visemes). Do not re-introduce external phonetic libraries unless explicitly instructed.
- The user has expressed concern about credit usage. While continuing your work, you can reassure them that your internal testing and verification steps do not incur additional costs.

**documents and test reports created in this job**
- 

**Last 10 User Messages and any pending HUMAN messages**
1.  **User:** Fixes Letter Practice phonemes (use ba, not bah) and Word Practice phonetics (pronunciation spelled out wrong).
2.  **User:** Provides a file , requests a robust phonetic engine using dictionary lookups, IPA, and pauses for punctuation. Asks about frame blending.
3.  **Agent:** Implements a complex solution with a CMU dictionary.
4.  **User:** Rejects the complex IPA output. Asks for simpler phonetics, a 1-second delay, longer animations, and removal of the yellow border.
5.  **Agent:** Implements the simpler phonetic model, delay, and removes the border.
6.  **User:** Rejects the new simplified model again, stating it's too slow and phonetically incorrect.
7.  **Agent:** Implements an even faster, custom dictionary/pattern-matching model.
8.  **User:** Clarifies the core goal: the engine must map ANY sound to the existing 20 visemes (mouth shapes) in a language-agnostic way.
9.  **User:** Reports bugs in the latest model (tion_tion duplication, incorrect 'c' sound). Asks to add a long ƒÅ sound. Complains about credits.
10. **User:** **(CRITICAL)** States they made an error and provided the wrong head sprites. Asks the agent to delete the current ones and get the correct files from a new GitHub repo: .

**Project Health Check:**
- **Broken:** The application is completely broken. Core sprite sheet assets were deleted, and the replacement URL was invalid. The app cannot render its primary visual components.

**3rd Party Integrations**
- None currently active.

**Testing status**
- **Testing agent used after significant changes:** NO (not since the latest engine)
- **Troubleshoot agent used after agent stuck in loop:** NO
- **Test files created:** None
- **Known regressions:** The entire application is non-functional.

**Credentials to test flow:**
N/A

**What agent forgot to execute**
The agent has not yet successfully found and integrated the correct sprite files after the user provided an incorrect URL, which has left the project in a broken and un-testable state.</analysis>
